set-option -g default-command "$SHELL"

### copy to clipboard
unbind -t vi-copy y
bind-key -t vi-copy y copy-pipe 'xclip -in -selection clipboard > /dev/null'

unbind -t vi-copy Enter
bind-key -t vi-copy Enter copy-pipe 'xclip -in -selection clipboard > /dev/null'

### C-b y : copy tmux clipboard to clipboard
# Since xclip doesn't close stdout after reading, tmux doesn't know that the
# copy task has finished. Piping to /dev/null cures that.
bind-key y run-shell 'tmux save-buffer - | xclip -in -selection clipboard > /dev/null'
